<!DOCTYPE html>
<html lang="en">

<head>
  <title>Volcanoes</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!--add required stylesheets-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <!--leaflet css-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <!-- <link rel="stylesheet" type="text/css" href="css/style.css"> -->

  <!--add required libraries-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.js"></script>
  <!--jquery and Popper-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>

  <!--boostrap-->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <!--leaflet.ajax for asynchronously adding geojson data-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

  <!-- bing map -->
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=Promise"></script>
  <script src="https://gmaclennan.github.io/leaflet-bing-layer/leaflet-bing-layer.js"></script>

  <!-- mini globle map -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
  <script src="js/globeminimap.js"></script>

  <!--story map plugin-->
  <script src="js/index.js"></script>
</head>

<body>


  <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark storymap-navbar">
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="javascript:window.scrollBy(0, $('section[data-scene=\'scene1\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">Background</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="javascript:window.scrollBy(0, $('section[data-scene=\'scene2\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">Major&nbsp;Eruptions</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="javascript:window.scrollBy(0, $('section[data-scene=\'scene3\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">Active&nbsp;Volcanoes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="javascript:window.scrollBy(0, $('section[data-scene=\'scene4\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">Effects</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="javascript:window.scrollBy(0, $('section[data-scene=\'scene5\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">How&nbsp;To&nbsp;Help</a>
        </li>
      </ul>
    </div>
  </nav>

  <div id="storymap" class="container-fluid" >
    <div class="row">
      <div class="col-sm-6 col-md-4 storymap-story">
        <section data-scene="overview" data-background="img/home-volcano-eruption.jpg">
          <div class="fullscreen text-center">
            <!-- FIX LATER -->
            <h1 class="display-4 d-flex justify-content-center">Volcanoes in the World</h1>
            <!-- <img src="img/home-volcano-eruption.jpg" /> -->

            <small class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">This story map
              illustrates the volcanoes on Earth
            </small>
          </div>
        </section>
        <section data-scene="scene1">
          <h2>Common Types of Volcanoes</h2>
          <img src="img/shapes.jpg" class="img-responsive" alt="responsive image" alt-text="Shapes of volcanoes">
          <h3>Cinder Cone</h3>
          <p>
            Cinder cone volcanoes are the most common type of volcanoes. Cinder cone volcanoes have the shape that most people think of volcanoes.
          </p>
          <h3>Stratovolcanoes</h3>
          <ul>
            <li> Built of lava flow, ash and blocks of unmelted stone</li>
            <li> Most violent type of volcano </li>
            <li> Example: Mount St. Helens </li>
          </ul>
          <p>Stratovolcanoes or Composite volcanoes form from a conduit system of vents from a magma reservoir beneath the surface.</p>
          <h3>Shield volcanoes</h3>
          <ul>
            <li> Example: Mauna Loa </li>
          </ul>
          <p>Shield volcanoes have a little slope and the resulting shape of a 'shield'. They are built of very thin lava spreading from the central vent to all directions. </p>
          <h3>Lava Domes</h3>
          <ul>
            <li> Lava domes are built from very viscous lava </li>
            <li> They are often formed in the craters of stratovolcanoes </li>
          </ul>
        </section>
        <section data-scene="scene2">
          <h2>Major Eruptions</h2>
          <p> VEI or Volcanic Explosivity Index is calculated by the volume of material erupted. It is a relative measure of the explosiveness of volcanic eruptions. The higher the number, the more explosive.
            <h3>Yellowstone (640K years ago)</h3>
            <img src="img/yellowstone.jpg" class="img-responsive" alt="responsive image" alt-text="yellowstone">
            <p>
              Yellowstone National Park in Wyoming, USA is an active volcano itself. There are 3 recent eruptions with magnitude-8 (VEI 8) that we know of with varying amounts of volume.
            </p>
            <ul>
              <li> 0.64 million years ago: 1,000 km^3 </li>
              <li> 1.3 million years ago: 280 km^3 </li>
              <li> 2.1 million years ago: 2,500 km^3 </li>
            </ul>
            <p> In comparison, the volume of the Puget Sound in Washington is 110km^3 </p>
            <h3>Mount Vesuvius (79 AD)</h3>
            <img src="img/mtvesuvius.jpg" class="img-responsive" alt="responsive image" alt-text="Mount Vesuvius">
            <p>
              Mount Vesuvius in Italy is perhaps one of the more well known volcanoes in history. It is currently the only active volcano in Italy. Although its most recent eruption was in 1944, its most famous eruption dates back to 79 AD. This eruption destroyed the Roman cities of Pompeii and Herculaneum.
            </p>
            <h3>Huaynaputina (1600)</h3>
            <img src="img/huaynaputina.jpg" class="img-responsive" alt="responsive image" alt-text="Huaynaputina">
            <p>
              Huaynaputina in Peru is the site of South America's largest volcanic eruption with VEI 6. The effects of the eruption affected the global climate with the coldest summers in 500 years.
            </p>
            <h3>Mount Pinatubo (1991)</h3>
            <img src="img/mtpinatubo.jpg" class="img-responsive" alt="responsive image" alt-text="Mount Pinatubo">
            <p>
              Mount Pinatubo in the Philippines erupted recently in 1991 with VEI 6. The volcano erupted more than a cubic mile into the air and the ash rose 22 miles in the atmosphere.
            </p>
          </section>
          <section data-scene="scene3">
            <h2>Map of All Active Volcanoes</h2>
            <div id="map"></div>
          </section>
          <section data-scene="scene4">
            <h2>Effects of Eruptions of Society</h2>
            <p>There are many effects eruptions can have. Homes are destroyed and the air is not safe to breath due to the ash everywhere. Depending on how much ash is deposited, it can break rooftops with the volume and weight. Volcanic eruptions can also affect the climate such as seen with Mount Tambora's eruption leading to the "Year Without Summer". <p>
            </section>
            <section data-scene="scene5">
              <h2>How to Help</h2>
              <p>Volcano observatories are a crucial tool for governments to reduce the impacts of volcanic eruptions. Governments, scientists, and local citizens are responsible to support the efforts of these institutions to make those at risk safer. Here are ways to support volcano observations</p>
              <ul>
                <li>
                  <img src="img/usgs.PNG" alt="USGS logo" />
                  <a href="https://volcanoes.usgs.gov/index.html">USGS science for a changing world</a>
                </li>
                <li>
                  <img src="img/epa.PNG" alt="EPA logo" />
                  <a href="https://www.epa.gov/natural-disasters/volcanoes">US Environmental Protection Agency</a>
                </li>
                <li>
                  <a href="https://temblor.net/earthquake-insights/volcano-observatories-reduce-risk-around-the-globe-heres-how-we-can-support-them-10848/">Further Reading on Support</a>
                </li>
              </ul>
            </section>
          </div>
          <div id="map" class="col-sm-6 col-md-8 sidebar"></div>
        </div>
      </div>

      <footer></footer>

      <script type="text/javascript">
    /**
     * Created by jakob on 2/22/2017.
     */

// Create Legend Contents in html format
    var county_legend ='<i style="background: black; opacity: 0.5"></i><p><b>Counties</b></p>';
    var corvallis_admin_legend = '<i style="background: orange; opacity: 0.5"></i><p><b>Corvallis</b></p>';
    var forest_legend = '<i style="background: green; opacity: 0.5"></i><p><b>Forest</b></p>';

    // For each layer, the first variable is the layer, the second is the legend. The layer variable can be any kinds of layers that leaflet.js supports.
    // var layers = {
    //      'layer1': [layer1, legend1]
    //      'layer2': [layer2, legend2]
    //      ...
    // }

    var layers = {
        'layer 1': [ L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {id: 'mapbox.outdoors'})],
        'layer 2': [ L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {id: 'mapbox.outdoors'})],
        'layer 3': [ L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {id: 'mapbox.outdoors'})],
        'layer 4': [ L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {id: 'mapbox.outdoors'})],
        'layer 5': [ L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {id: 'mapbox.outdoors'})],
        'layer 6': [ L.geoJson.ajax('assets/PointPlaces.geojson', county_legend)],
        'layer 7': [ L.geoJson.ajax('assets/oregonski.geojson', county_legend)]
        };

    var scenes = {
        Oregon: {lat: 44.053932, lng: -122.7814109, zoom: 7, layers: ['layer 1','layer 6']},
        CraterLake: {lat: 42.9357625, lng: -122.2, zoom: 12, layers: ['layer 1','layer 6']},
        MtHood: {lat: 45.373514, lng: -121.799, zoom: 12, layers: ['layer 2','layer 6', 'layer 7']},
        Steens: {lat: 42.636418, lng: -118.878, zoom: 10, layers: ['layer 3','layer 6']},
        Haystack: {lat: 45.88472, lng: -123.9696836, zoom: 15, layers: ['layer 4','layer 6']},
        CrownPt: {lat: 45.5395, lng: -122.2458415, zoom: 18, layers: ['layer 5','layer 6']}
    };

    $('.main').storymap({
        scenes: scenes,
        layers: layers,
        legend: true, // if you do not want a legend feature, you can simply not define the createLegend function.
        createMap: function () {
            // create a map in the "map" div, set the view to a given place and zoom
            var map = L.map('map', {zoomControl: false, scrollWheelZoom: false});

            // add an base map, which can be either OSM, mapbox, tilelayer, wmslayer or those designed by yourself.
            L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {
                maxZoom: 18,
                attribution: '<a target="_blank">Riley Johnson</a>',
                id: 'mapbox.outdoors',
                detectRetina: true
            }).addTo(map);

            L.control.scale({position: 'bottomright', metric: false}).addTo(map);
    });
</script>
    </body>

    </html>
